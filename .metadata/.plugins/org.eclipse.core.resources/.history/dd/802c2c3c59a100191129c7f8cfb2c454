<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE sqlMap SYSTEM "http://www.ibatis.com/dtd/sql-map-2.dtd" PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN">

-<sqlMap namespace="count">

<!-- counter.xml -->


<!-- ip저장 -->


<insert parameterClass="String" id="insert">insert into addr values (#value#) </insert>

<!-- 카운트값 변경 -->


<update id="update">update cnt set cnt=cnt_seq.nextval </update>

<!-- 저장된 ip조회 -->


<select parameterClass="String" id="select" resultClass="int">select count(*) from addrwhere addr=#value# </select>

<select id="selectCnt" resultClass="int">select cnt from cnt </select>

</sqlMap>